<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<!--

  @(#)package.html	1 Fri May 31 18:05:49 CDT 2002

  Copyright 2002 Board of Regents, University of Wisconsin,
  Madison, Wisconsin, U.S.A. All Rights Reserved.

-->
</head>
<body bgcolor="white">

<P>
  Simple API for NMR-STAR.

<h2>Package Details</h2>
<P>
  SANS (Simple API for NMR-STAR) is modelled after Simple API for XML (SAX). 
  Like SAX parsers, SANS parses input line-by-line and calls user-defined 
  methods (callbacks) for each element of NMR-STAR syntax it encouters.
<P>
  SANS is much faster, and requires far less memory than the DOM-like STAR 
  parser: starlib. Of course, SANS comes with all limitations of SAX parsers.

<H2>Classes</H2>
<H3>{@link EDU.bmrb.sansj.SansParser SansParser}</H3>
<P>
 This validating NMR-STAR parser returns tag/value pairs as <CODE>DataItemNode</CODE> 
 objects for free tags and loop tags.
<P>
  Callbacks are defined by two interfaces (similar to the ones in
  <CODE>org.xml.sax</CODE>):
  <UL>
    <LI>{@link EDU.bmrb.sansj.ContentHandler ContentHandler}: callbacks for valid 
        tokens, and
    <LI>{@link EDU.bmrb.sansj.ErrorHandler ErrorHandler}: callbacks for syntax errors.
  </UL>
<P>
  {@link EDU.bmrb.sansj.DataItemNode DataItemNode}: tag/value pair returned by the
  parser. This object is somewhat different from <CODE>starlib</CODE>'s <CODE>DataItemNode</CODE>.
  
<H3>{@link EDU.bmrb.sansj.SimpleStarParser SimpleStarParser}</H3>
<P>
 This validatong NMR-STAR parser has separate callbacks for tag and values, so it uses 
 a different callback interface. Tokens are returned as <CODE>StarNode</CODE>s similar 
 to those in <CODE>starlib</CODE>. Comments are not returned as separate tokens, instead
 they are returned with <CODE>StarNode</CODE> that follows them.
<P>
  Callback interfaces:
  <UL>
    <LI>{@link EDU.bmrb.sansj.StarContentHandler StarContentHandler}: callbacks for valid 
        tokens, and
    <LI>{@link EDU.bmrb.sansj.ErrorHandler ErrorHandler}: callbacks for syntax errors.
  </UL>
<P>
 <CODE>StarNode</CODE>s for this parser are in {@link EDU.bmrb.sansj.starlib starlib}
 sub-package.
 
<H3>{@link EDU.bmrb.sansj.CifParser CifParser}</H3>
<P>
 This is a parser for CIF files. The difference between it and <CODE>SansParser</CODE> 
 above is that CIF files contain no saveframes and no end-of-loop (<CODE>stop_</CODE>) 
 markers; <CODE>SansParser</CODE> will report those as errors.

<H3>{@link EDU.bmrb.sansj.STARLexer STARLexer}</H3>
<P>
 Scanner generated by JFlex. The scanner returns STAR tokens as <CODE>int</CODE> 
 constants.
  <BR>
  <STRONG>Note</STRONG> that scanner closes input stream on EOF -- you cannot
  rewind input stream and parse it again, you need to create a new scanner/parser
  for that.
  
<H3>{@link EDU.bmrb.sansj.IntStringPair IntStringPair}</H3>
<P>
 Utility class to store tag name and line in the parser.

<h2>Usage</h2>
<P>
  Basic usage:
  <OL>
    <LI>Create an object that implements <CODE>ContentHandler</CODE> and
        <CODE>ErrorHandler</CODE> interfaces (e.g. <CODE>myClass</CODE>).
    <LI>Create a <CODE>STARLexer</CODE> object on an input stream:
        <CODE>STARLexer scanner = new STARLexer( System.in )</CODE>
    <LI>Create a <CODE>SansParser</CODE> (or <CODE>CifParser</CODE>) object on 
        the lexer: <CODE>SansParser parser = new SansParser( scanner )</CODE>
    <LI>Register <CODE>myClass</CODE> with <CODE>parser</CODE>:
        <PRE>
        parser.setContentHandler( myClass ); 
        parser.setErrorHandler( myClass );
        </PRE>
    <LI>Call <CODE>parser.parse()</CODE>.
  </OL>
  When parser encounters a token, it will call appropriate 
  <CODE>ContentHandler</CODE> or <CODE>ErrorHandler</CODE> method in <CODE>myClass</CODE>.
  Those methods are where you put your application's logic.
<P>
  See <CODE>Test.java</CODE> in the source directory for basic usage example.
</P>
</body>
</html>
